(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{352:function(s,a,t){"use strict";t.r(a);var n=t(3),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1-重用学习网站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-重用学习网站"}},[s._v("#")]),s._v(" 1.重用学习网站")]),s._v(" "),a("h4",{attrs:{id:"_1-1-systemverilog-tutorials"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-systemverilog-tutorials"}},[s._v("#")]),s._v(" 1.1 "),a("a",{attrs:{href:"https://www.doulos.com/knowhow/sysverilog/tutorial/",target:"_blank",rel:"noopener noreferrer"}},[s._v("SystemVerilog Tutorials"),a("OutboundLink")],1),s._v("：")]),s._v(" "),a("p",[s._v("https://www.doulos.com/knowhow/sysverilog/tutorial/")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Wangzhe00/image-hosting/blog/Verilog_study_web_1.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"一-常用语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-常用语句"}},[s._v("#")]),s._v(" 一：常用语句")]),s._v(" "),a("h4",{attrs:{id:"_1-always"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-always"}},[s._v("#")]),s._v(" 1. always")]),s._v(" "),a("p",[s._v("always_comb，always_ff，和always_latch语句是systemverilog新增的")]),s._v(" "),a("p",[s._v("在Verilog中，设计组合逻辑和时序逻辑时，都要用到always：")]),s._v(" "),a("div",{staticClass:"language-verilog line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-verilog"}},[a("code",[a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//组合逻辑")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("posedge")]),s._v(" clk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//时序逻辑 flip-flop触发器")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("en"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("仅从关键字上，看不出设计者想要一个什么样的电路。SystemVerilog把always关键字细化了。对不同的设计要求有不同的关键字：")]),s._v(" "),a("h4",{attrs:{id:"_1-1always-comb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1always-comb"}},[s._v("#")]),s._v(" 1.1always_comb")]),s._v(" "),a("div",{staticClass:"language-verilog line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-verilog"}},[a("code",[a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always_comb")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//组合逻辑")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("comb是combinational的缩写，always_comb表示设计者想要设计一个组合逻辑电路。同时不必再写敏感信号列表。我们在设计组合逻辑电路时，一件最重要的事就是不要一不小心搞一个latch出来。always_comb会告诉综合工具，这里需要的是一个组合逻辑电路。假如我们设计时，if语句或者case语句没有写完整，在综合时，我们会收到警报：这里应该是组合逻辑，你把他写成了latch。使用always，则不会收到这样的警告。")]),s._v(" "),a("div",{staticClass:"language-verilog line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-verilog"}},[a("code",[a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always_comb")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//错误")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_1-2always-latch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2always-latch"}},[s._v("#")]),s._v(" 1.2always_latch")]),s._v(" "),a("p",[s._v("如果真的需要latch，SystemVerilog准备了专门的关键字:")]),s._v(" "),a("div",{staticClass:"language-verilog line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-verilog"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always_latch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//latch")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("clk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("always_latch是电平敏感的，它也不需要敏感信号列表，它会告诉综合工具，这里我就是需要一个latch。")]),s._v(" "),a("p",[s._v("always_comb和always_latch极大的降低了unintentional latch的出现。这是对电路设计的一大提升。")]),s._v(" "),a("h4",{attrs:{id:"_1-3always-ff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3always-ff"}},[s._v("#")]),s._v(" 1.3always_ff")]),s._v(" "),a("p",[s._v("对于flip-flop触发器的设计，也有专门的关键字：")]),s._v(" "),a("div",{staticClass:"language-verilog line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-verilog"}},[a("code",[a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always_ff @")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("posedge")]),s._v(" clk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//flip-flop触发器")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("en"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("ff是flip_flop的缩写，它需要敏感信号列表，并且是边沿触发的，所以敏感信号列表里的信号，都需要加关键字posedge或negedge。假如我们忘记了写posedge或者negedge：")]),s._v(" "),a("div",{staticClass:"language-verilog line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-verilog"}},[a("code",[a("span",{pre:!0,attrs:{class:"token important"}},[s._v("always_ff @")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("clk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//错误 ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("en"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("综合工具会发出警告：这里应该是flip-flop，可你写的不是flip-flop。使用always，则不会收到这样的警告。")]),s._v(" "),a("p",[a("strong",[s._v("SystemVerilog把always细化成always_comb, always_ff, 和always_latch。使综合工具可以自动检查各种细节，降低了设计失误的可能。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);